<ng-container *ngIf="recipe">
  <div
    class="recipe-image"
    [style.background-image]="'url(' + recipe.image + ')'"
  ></div>
  <div class="recipe-data">
    <section class="recipe-header">
      <h1 class="recipe-title">{{ recipe.name }}</h1>

      <button
        class="recipe-like-toggle-btn"
        [ngClass]="likeToggle() ? 'primary' : 'secondary'"
        (click)="onLikeToggleClick()"
      >
        <ng-container [ngTemplateOutlet]="likeIconRef"></ng-container>
        {{ likeToggle() ? "Unlike" : "Like" }}
      </button>
      <button class="recipe-edit-btn" (click)="onEdit()">Edit</button>
    </section>

    <section>
      <p class="recipe-author-info">
        <span>by: {{ recipe.author }}</span>
        <span>created at: {{ recipe.created | date : "dd/MM/yyyy" }}</span>
      </p>
    </section>

    <section class="recipe-details">
      <mat-chip class="recipe-styles">
        {{ recipe.style }}
      </mat-chip>
      <span class="recipe-time">
        <ng-container [ngTemplateOutlet]="timeIcon"></ng-container>
        {{ recipe.time }}</span
      >
    </section>

    <section>
      <div class="recipe-subtitle">Notes</div>
      <div class="recipe-notes">&quot;{{ recipe.notes }}&quot;</div>
      <div class="recipe-subtitle">Ingredients</div>
      <ul class="recipe-ingredients">
        <li *ngFor="let ingredient of recipe.ingredients">
          {{ ingredient }}
        </li>
      </ul>
      <div class="recipe-subtitle">Instructions</div>
      <ul class="recipe-instructions">
        <li *ngFor="let instruction of recipe.instructions; let i = index">
          <span class="recipe-instruction-counter">{{ i + 1 }}</span>
          <span class="recipe-instruction-item">{{ instruction }}</span>
        </li>
      </ul>
    </section>
  </div>
</ng-container>

<ng-template #timeIcon>
  <svg width="15" height="16" viewBox="0 0 15 16" fill="none">
    <path
      d="M4.20215 9.11035H7.44238C7.62923 9.11035 7.78646 9.04655 7.91406 8.91895C8.04167 8.79134 8.10547 8.63411 8.10547 8.44727V4.19531C8.10547 4.01302 8.04167 3.85807 7.91406 3.73047C7.78646 3.60286 7.62923 3.53906 7.44238 3.53906C7.25553 3.53906 7.09831 3.60286 6.9707 3.73047C6.8431 3.85807 6.7793 4.01302 6.7793 4.19531V7.78418H4.20215C4.0153 7.78418 3.85807 7.84798 3.73047 7.97559C3.60286 8.10319 3.53906 8.26042 3.53906 8.44727C3.53906 8.63411 3.60286 8.79134 3.73047 8.91895C3.85807 9.04655 4.0153 9.11035 4.20215 9.11035ZM7.44238 15.2832C6.45345 15.2832 5.52376 15.0941 4.65332 14.7158C3.78288 14.3421 3.01497 13.8226 2.34961 13.1572C1.68424 12.4964 1.16243 11.7308 0.78418 10.8604C0.410482 9.98991 0.223633 9.05794 0.223633 8.06445C0.223633 7.07552 0.410482 6.14583 0.78418 5.27539C1.16243 4.40495 1.68197 3.63704 2.34277 2.97168C3.00814 2.30632 3.77604 1.78678 4.64648 1.41309C5.52148 1.03483 6.45345 0.845703 7.44238 0.845703C8.43132 0.845703 9.361 1.03483 10.2314 1.41309C11.1064 1.78678 11.8743 2.30632 12.5352 2.97168C13.2005 3.63704 13.7223 4.40495 14.1006 5.27539C14.4788 6.14583 14.668 7.07552 14.668 8.06445C14.668 9.05794 14.4788 9.98991 14.1006 10.8604C13.7223 11.7308 13.2005 12.4964 12.5352 13.1572C11.8743 13.8226 11.1087 14.3421 10.2383 14.7158C9.36784 15.0941 8.43587 15.2832 7.44238 15.2832Z"
      fill="#95949A"
    />
  </svg>
</ng-template>

<ng-template #likeIconRef>
  <svg width="14" height="14" viewBox="0 0 18 18" fill="none">
    <path
      d="M3.91602 15.8662C3.72461 15.7204 3.6084 15.529 3.56738 15.292C3.52637 15.055 3.55827 14.7839 3.66309 14.4785L5.02344 10.4316L1.55078 7.93652C1.28646 7.74967 1.09961 7.54915 0.990234 7.33496C0.880859 7.11621 0.867188 6.89062 0.949219 6.6582C1.02669 6.43034 1.17025 6.26172 1.37988 6.15234C1.59408 6.03841 1.86068 5.98372 2.17969 5.98828L6.44531 6.02246L7.74414 1.94824C7.8444 1.63379 7.97884 1.39453 8.14746 1.23047C8.32064 1.06185 8.52799 0.977539 8.76953 0.977539C9.01107 0.977539 9.21615 1.06185 9.38477 1.23047C9.55794 1.39453 9.69466 1.63379 9.79492 1.94824L11.0869 6.02246L15.3525 5.98828C15.6761 5.98372 15.9427 6.03841 16.1523 6.15234C16.3665 6.26172 16.5124 6.43262 16.5898 6.66504C16.6673 6.89746 16.6514 7.12077 16.542 7.33496C16.4372 7.54915 16.2526 7.74967 15.9883 7.93652L12.5088 10.4316L13.876 14.4785C13.9808 14.7839 14.0127 15.055 13.9717 15.292C13.9307 15.529 13.8122 15.7204 13.6162 15.8662C13.4202 16.0166 13.2038 16.0713 12.9668 16.0303C12.7298 15.9938 12.4792 15.8799 12.2148 15.6885L8.76953 13.1523L5.31738 15.6885C5.05762 15.8799 4.80697 15.9938 4.56543 16.0303C4.32845 16.0713 4.11198 16.0166 3.91602 15.8662Z"
      fill="#41A4FF"
    />
  </svg>
</ng-template>
